<div
  class="overflow-hidden transition-all duration-300 ease-in-out mb-2"
  [class.max-h-0]="!isColorSectionOpen"
  [class.max-h-[800px]]="isColorSectionOpen"
  [class.opacity-0]="!isColorSectionOpen"
  [class.opacity-100]="isColorSectionOpen"
>
  <div class="mb-3 p-4 bg-slate-700/50 rounded-lg text-center pixel-box-s">
    <div class="block text-xs sm:text-base text-slate-300 mb-1">Selecciona un color:</div>

    <!-- Grid de colores -->
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 mb-2">
      @for (color of colors; track $index) {
      <button
        type="button"
        class="color-option relative"
        [class.selected]="selectedColor === color"
        (click)="selectColor(color)"
      >
        <div
          class="w-full h-14 sm:h-16 md:h-20 rounded-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-lg pixel-box-s clickable"
          [style.background-color]="color.color"
        ></div>

        @if (selectedColor === color) {
        <img
          src="assets/icon/configuration/check.png"
          alt="Seleccionado"
          class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 sm:w-8 pointer-events-none drop-shadow-lg"
        />
        }

        <span
          class="text-xs sm:text-sm text-center mt-1 sm:mt-2 block text-slate-400 truncate px-1"
        >
          {{ color.name }}
        </span>
      </button>
      }
    </div>
  </div>
</div>
